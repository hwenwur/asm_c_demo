### 汇编-C语言互相调用示例

#### 程序执行步骤：

整个程序实现计算表达式`2 * (x + y)`，x和y是汇编中定义的常量。

1. 入口是main.asm中`_start`.
2. 在汇编中调用C语言定义的`addxy`函数，实现两个参数x, y相加。
3. 在C语言中的addxy中调用汇编定义的`multi2`函数，并以其结果为返回值。
4. 在汇编中调用C语言标准库中的`printf`输出结果，然后调用`exit`函数退出程序。

#### 依赖
gcc 7.4.0, nasm 2.13.02

#### 运行方法
1. 切换到当前目录
2. `make`
3. `make run`

#### 说明
调用约定：[cdecl](https://en.wikipedia.org/wiki/X86_calling_conventions)

平台：x86

1. 汇编和C语言互相调用时，函数名称前面都不需要下划线`_`（早期的gcc似乎会在所有用户定义的函数名前面加`_`）。
2. 调用函数时，参数全部保存在栈中，自后向前入栈，寄存器esp保存了（栈顶地址 + 1byte）。
3. 由调用者清理栈。
4. 返回值保存在寄存器eax中。